---
- name: Verify exa package is installed
  assert:
    that: "'exa' in ansible_facts.packages"
  when: ansible_distribution == "Debian" or ansible_os_family == "RedHat"

# exa is only in Ubuntu 20.10 onwards, so manually check  
- name: Check for exa binary
  stat:
    path: /usr/bin/exa
  register: exa

- name: Verify exa binary is present
  assert:
    that: exa.stat.exists
